{"version":3,"sources":["components/display/display.component.jsx","components/button/button.component.jsx","components/buttons/buttons.component.jsx","App.js","index.js"],"names":["Display","time","className","h","m","s","Button","React","forwardRef","ref","title","onclick","classes","onClick","e","console","log","Buttons","start","stop","reset","wait","status","App","useState","ms","setTime","watch","setWatch","setStatus","useEffect","subscribe","Subject","interval","pipe","takeUntil","run","next","complete","waitButton","useRef","fromEvent","current","document","querySelector","map","Date","getTime","bufferCount","filter","timestamps","prevState","updatedMs","updatedS","updatedM","updatedH","setTimeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.871baef2.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./display.styles.scss\";\n\nconst Display = ({ time }) => {\n  return (\n    <div className=\"display\">\n      <span className=\"badge bg-secondary\">\n        {time.h >= 10 ? time.h : \"0\" + time.h}\n      </span>\n      &nbsp;:&nbsp;\n      <span className=\"badge bg-secondary\">\n        {time.m >= 10 ? time.m : \"0\" + time.m}\n      </span>\n      &nbsp;:&nbsp;\n      <span className=\"badge bg-secondary\">\n        {time.s >= 10 ? time.s : \"0\" + time.s}\n      </span>\n      {/* &nbsp;:&nbsp;\n      <span className=\"badge bg-secondary\">\n        {time.ms >= 10 ? time.ms : \"0\" + time.ms}\n      </span> */}\n    </div>\n  );\n};\n\nexport default Display;\n","import React from \"react\";\n\nimport \"./button.styles.scss\";\n\nconst Button = React.forwardRef(({ title, onclick, classes }, ref) => {\n  return (\n    <button\n      className={`btn ${classes}`}\n      onClick={(e) => (onclick ? onclick(e) : console.log(\"no function\"))}\n      ref={ref}\n    >\n      {title}\n    </button>\n  );\n});\n\nexport default Button;\n","import React from \"react\";\nimport Button from \"../button/button.component\";\n\nimport \"./buttons.styles.scss\";\n\nconst Buttons = React.forwardRef(\n  ({ start, stop, reset, wait, status }, ref) => {\n    return (\n      <div className=\"buttons\">\n        <Button\n          classes={\n            status === \"started\"\n              ? \"btn-danger\"\n              : status === \"paused\"\n              ? \"btn-success\"\n              : \"btn-success\"\n          }\n          title={\n            status === \"reset\"\n              ? \"start\"\n              : status === \"paused\"\n              ? \"resume\"\n              : \"stop\"\n          }\n          onclick={\n            status === \"reset\" ? start : status === \"paused\" ? start : stop\n          }\n        />\n        <Button\n          classes=\"btn-secondary wait\"\n          title=\"wait\"\n          onclick={wait}\n          ref={ref}\n        />\n        <Button classes=\"btn-danger\" title=\"reset\" onclick={reset} />\n      </div>\n    );\n  }\n);\n\nexport default Buttons;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Display from \"./components/display/display.component\";\nimport Buttons from \"./components/buttons/buttons.component\";\nimport { interval, Subject, fromEvent } from \"rxjs\";\nimport { takeUntil, map, bufferCount, filter } from \"rxjs/operators\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const [time, setTime] = useState({ ms: 0, s: 0, m: 0, h: 0 });\n  const [watch, setWatch] = useState(false);\n  const [status, setStatus] = useState(\"reset\");\n\n  const clickCount = 2;\n  const clickTimespan = 300;\n\n  useEffect(() => {\n    const subscribe = new Subject();\n    interval(10)\n      .pipe(takeUntil(subscribe))\n      .subscribe(() => (watch ? run() : null));\n    return () => {\n      subscribe.next();\n      subscribe.complete();\n    };\n  }, [watch]);\n\n  const waitButton = useRef(null);\n\n  useEffect(() => {\n    fromEvent(waitButton.current, \"click\").subscribe(() =>\n      fromEvent(document.querySelector(\"button.wait\"), \"click\")\n        .pipe(\n          map(() => new Date().getTime()),\n          bufferCount(clickCount, 1),\n          filter((timestamps) => {\n            return timestamps[0] > new Date().getTime() - clickTimespan;\n          })\n        )\n        .subscribe(() => {\n          if (status !== \"paused\" && status !== \"reset\") {\n            setWatch(false);\n            setStatus(\"paused\");\n          }\n        })\n    );\n  });\n  const start = () => {\n    setWatch((prevState) => !prevState);\n    setStatus(\"started\");\n  };\n\n  const stop = () => {\n    setWatch(false);\n    setTime({ ms: 0, s: 0, m: 0, h: 0 });\n    setStatus(\"reset\");\n  };\n\n  const wait = () => {\n    console.log(\"wait\");\n  };\n\n  const reset = () => {\n    setWatch(false);\n    setTime({ ms: 0, s: 0, m: 0, h: 0 });\n    setStatus(\"reset\");\n    if (status !== \"reset\") setTimeout(() => start(), 100);\n  };\n\n  let updatedMs = time.ms,\n    updatedS = time.s,\n    updatedM = time.m,\n    updatedH = time.h;\n\n  const run = () => {\n    if (updatedM === 60) {\n      updatedH++;\n      updatedM = 0;\n    }\n    if (updatedS === 60) {\n      updatedM++;\n      updatedS = 0;\n    }\n    if (updatedMs === 100) {\n      updatedS++;\n      updatedMs = 0;\n    }\n    updatedMs++;\n    return setTime({ ms: updatedMs, s: updatedS, m: updatedM, h: updatedH });\n  };\n\n  return (\n    <div className=\"App stopwatch\">\n      <Display time={time} />\n      <Buttons\n        start={start}\n        stop={stop}\n        wait={wait}\n        ref={waitButton}\n        reset={reset}\n        status={status}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}